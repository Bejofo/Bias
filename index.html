<html>

<head>
  <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
  <script src="https://cdn.jsdelivr.net/npm/p5@1.5.0/lib/p5.js"></script>
  <script src="sketch.js"></script>
</head>

<style>
  .container {
    display: flex;
  }

  .flex-item {
    flex: 1;
    font-size: smaller;
  }

  h3 {
    font-size: 1.5rem;
    margin-top: 0.25rem;
    margin-bottom: 0.5rem;
  }

  .padding {
    padding: 3%;
  }

  body {
    color: var(--text);
    background-color: var(--bg);
    font-size: 1.15rem;
    line-height: 1.5;
    display: grid;
    grid-template-columns: 0 !important;
    margin: 1.5;
  }

  #moreinfo{
    margin: 2%;
    font-size:smaller;
  }
</style>

<body>
  <main>
    <div id="game" class="container padding">
      <div id="gamediv" class="flex-item"></div>
      <div class="flex-item">
        <h3>The plot</h3> 
        Welcome to ████ hospital, as a (unpaid) intern you will be helping the wonderful doctors here to diagnose patients quicker and
        more efficently than ever before.
        <br>
        To the left we have plotted previous paitent data. The x and y coordinates correspond to predicting factors of the disease we are trying to test for.
        Hopefully you can find a pattern to allow us to predict whenever or not future patients are infected or not.
        <h3>Instructions</h3>
        Your goal is to draw a line that best seperates the infected (red) from the not infected (green).
        <br>
        Draw a line by <b>clicking and draging left to right</b>. Don't try right to left. I haven't fixed that yet.
        <br>
        Don't worry too much about getting it perfect, but try to get the accuracy as high as possible.
        <br>
        The results will be displayed below, If you don't like the results, you can try again just by drawing another line.
        Be sure to randomize the patients in order to see if your results generalizes well.
        <div>
          <button onclick="toggle()">More info</button>
          <button onclick="reset()">Randomize Patients</button>
        </div>
        Your stats
        <div id="output"></div>
      </div>
    </div>

    <div id="moreinfo" style="display: none;">
      <h1>What is the point of this???</h1>

      <h3>How does have anything to do with machine learning?</h3>
      The process of drawing a seperating line is pretty much what most of machine learning boils down to. Of course the
      computer can do this faster and better than you, but you get the idea.
      <h2>Bias</h2>
      If you experiment and draw the lines a couple of different times, you can see that you will pretty consistently
      have better accuracy rates for
      square patients. This isn't because you are secretly racist against triangle patients but it's an
      artifact of how triangle patients are a minority. In this case, the triangle patients follow a different pattern than the square patients, but that
      can be hard to see because of the square's majority. Algorithms that blindly optimize for maximum accuracy can fall victim to this as well.
      <h2>The question of fairness</h2>
      There is endless amount of literature debating what it means to be fair. Being fair is subjective, and hard to
      define.
      In this demostration here, is it ok to misclassify more triangle patients for a better overall accuracy?
      If we allowed to model to discriminate by race, it's possible to get high accuracy for both triangles and squares.
      Is this ok?
      Or should race never be a consideration in medical descions?
      <br>
      <button onclick="toggle()">Go back</button>
      <br>
      I may have bitten off more than I can chew. Which is why this site looks so ugly.
    </div>



    <script>
      var showGame = true;
      function toggle() {
        if (showGame) {
          document.querySelector('#game').style.display = 'none';
          document.querySelector('#moreinfo').style.display = '';
          document.querySelector('button').innerText = 'Go back';

        } else {
          polyline = [];
          document.querySelector('#game').style.display = '';
          document.querySelector('#moreinfo').style.display = 'none';
          document.querySelector('button').innerText = 'More info';
        }
        showGame = !showGame;
      }
    </script>
  </main>
</body>

</html>
